
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Neon Cat Arcade - CRT Mode</title>
<style>
  body {
    margin: 0;
    background: #000;
    color: #0ff;
    font-family: monospace;
    text-align: center;
  }
  canvas {
    display: block;
    margin: 20px auto;
    background: #000;
    border: 6px solid #0ff;
    box-shadow: 0 0 30px #0ff;
    image-rendering: pixelated;
  }
  .crt::after {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background:
      repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,0.03),
        rgba(255,255,255,0.03) 1px,
        rgba(0,0,0,0) 2px,
        rgba(0,0,0,0) 4px
      );
    mix-blend-mode: overlay;
  }
</style>
</head>
<body class="crt">

<h1>NEON CAT ARCADE</h1>
<p>Left / Right to move | C continue | I insert coin | R restart</p>

<canvas id="game" width="420" height="640"></canvas>

<script>
const c = document.getElementById("game");
const ctx = c.getContext("2d");

let player = {x:190,y:580,w:40,h:40};
let blocks = [];
let score = 0;
let lives = 3;
let credits = 3;
let speed = 3;
let gameState = "play";

document.addEventListener("keydown", e => {
  if (gameState === "play") {
    if (e.key === "ArrowLeft") player.x -= 8;
    if (e.key === "ArrowRight") player.x += 8;
  }
  if (e.key.toLowerCase() === "i") credits++;
  if (e.key.toLowerCase() === "r") reset();
  if (e.key.toLowerCase() === "c" && gameState === "continue" && credits > 0) {
    credits--; lives = 3; gameState = "play";
  }
});

function reset(){
  score = 0; lives = 3; speed = 3;
  blocks = []; gameState = "play";
}

function spawnBlock(){
  blocks.push({x:Math.random()*380,y:-30,s:30});
}

function update(){
  ctx.clearRect(0,0,c.width,c.height);

  if (gameState === "play") {
    if (Math.random()<0.03) spawnBlock();
    score++; if (score%500===0) speed+=0.3;
  }

  ctx.fillStyle="#ff66cc";
  ctx.fillRect(player.x,player.y,player.w,player.h);

  ctx.fillStyle="#ff3333";
  blocks.forEach(b=>{
    b.y+=speed;
    ctx.fillRect(b.x,b.y,b.s,b.s);
    if(b.x<player.x+player.w && b.x+b.s>player.x && b.y<player.y+player.h && b.y+b.s>player.y){
      lives--; b.y=700;
      if(lives<=0){
        if(credits>0) gameState="continue";
        else gameState="over";
      }
    }
  });

  blocks = blocks.filter(b=>b.y<700);

  ctx.fillStyle="#0ff";
  ctx.fillText("Score: "+score,10,20);
  ctx.fillText("Lives: "+lives,340,20);
  ctx.fillText("Credits: "+credits,160,20);

  if(gameState==="continue"){
    ctx.font="26px monospace";
    ctx.textAlign="center";
    ctx.fillText("CONTINUE?",210,320);
    ctx.font="16px monospace";
    ctx.fillText("PRESS C",210,350);
  }

  if(gameState==="over"){
    ctx.font="26px monospace";
    ctx.textAlign="center";
    ctx.fillText("GAME OVER",210,320);
    ctx.font="16px monospace";
    ctx.fillText("PRESS R",210,350);
  }

  requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
